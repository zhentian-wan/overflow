<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Hidden iframe download test</title>
	</head>
	<body>
		<button id="btn">Download via hidden iframe</button>

        <button id="btn2">Download via a tag</button>
		<script>
			const PDF_URL =
				'https://download.microsoft.com/download/d/0/0/d0001082-eedc-41e2-a7c2-4bd05a7fb63a/BusinessApps_ReleaseNotes_v18.1.4.pdf'
setTimeout(() => {
				document.getElementById('btn').addEventListener('click', () => {
				const iframe = document.createElement('iframe')
				iframe.style.visibility = 'hidden'
				iframe.style.display = 'none'
				iframe.src = PDF_URL

				document.body.appendChild(iframe)

				// cleanup later
				setTimeout(() => {
					iframe.remove()
				}, 30_000)
			})
}, 100)

		</script>

		<script>
			const url = 'https://download.microsoft.com/download/d/0/0/d0001082-eedc-41e2-a7c2-4bd05a7fb63a/BusinessApps_ReleaseNotes_v18.1.4.pdf'
			document.getElementById('btn2').onclick = () => {
setTimeout(() => {
					const a = document.createElement('a')
				a.href = url
				a.target = '_blank'
				a.download=''
				a.rel = 'noopener noreferrer'
				a.style.display = 'none'
				document.body.appendChild(a)
				a.click()
				a.remove()
}, 100)
			}
		</script>
	</body>
</html>
