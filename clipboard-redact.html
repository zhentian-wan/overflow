<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Clipboard redaction</title>
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        padding: 1rem;
        font-family: system-ui, sans-serif;
      }
      .layout {
        display: flex;
        gap: 2rem;
        max-width: 900px;
        margin: 0 auto;
      }
      .section {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 1rem;
      }
      .section h2 {
        margin: 0 0 0.5rem 0;
        font-size: 1rem;
        color: #333;
      }
      textarea,
      [contenteditable] {
        min-height: 80px;
        padding: 0.5rem;
        border: 1px solid #ccc;
        border-radius: 4px;
        font: inherit;
      }
      textarea {
        min-height: 200px;
        width: 100%;
      }
      [contenteditable] {
        background: #fafafa;
      }
      .section p {
        margin: 0;
        padding: 0.5rem;
        border: 1px solid #eee;
        border-radius: 4px;
        min-height: 2em;
      }
      button {
        padding: 0.5rem 1rem;
        font: inherit;
        cursor: pointer;
        border: 1px solid #ccc;
        border-radius: 4px;
        background: #f5f5f5;
      }
      button:hover {
        background: #eee;
      }
    </style>
  </head>
  <body>
    <h1>Clipboard redaction</h1>
    <div class="layout">
      <section class="section" aria-label="Left">
        <label>Textarea</label>
        <textarea id="left-textarea" placeholder="Type or paste here…"></textarea>
        <label>
          Contenteditable div
          <div id="left-contenteditable" contenteditable="true" placeholder="Type or paste here…"></div>
        </label>
        <label>
          Normal paragraph
          <p id="left-paragraph"></p>
        </label>
      </section>
      <section class="section" aria-label="Right">
        <label>Textarea</label>
        <textarea id="right-textarea" placeholder="Paste target…"></textarea>

        <button type="button" id="paste-btn">Paste</button>
      </section>
    </div>
    <script>
      const leftContent = `There is some senstive information:
      SSN:
      489-36-8350\n
      514-14-8905\n
      690-05-5315\n
      421-37-1396\n
      458-02-6124\n
      612-20-6832\n

      Card number:
      4929-3813-3266-4925\n
      4532-1488-0343-4242\n
      4532-1488-0343-6467\n
      4532-1488-0343-6870\n
      4532-1488-0343-7510\n
      4532-1488-0343-7820\n
      4532-1488-0343-8938\n
      4532-1488-0343-9698\n

      email address:
      john.doe@example.com\n
      jane.doe@example.com\n
      jim.doe@example.com\n
      jill.doe@example.com\n
      jack.doe@example.com\n
      jane.doe@example.com\n
      jim.doe@example.com\n
      jill.doe@example.com\n
      jack.doe@example.com\n
      `

      document.getElementById('left-textarea').value = leftContent
      document.getElementById('left-contenteditable').innerHTML = leftContent.replace(/\n/g, '<br />')
      document.getElementById('left-paragraph').innerHTML = leftContent.replace(/\n/g, '<br />')

      document.getElementById('paste-btn').addEventListener('click', async () => {
        const textarea = document.getElementById('right-textarea')
        try {
          const text = await navigator.clipboard.readText()
          textarea.value = text
        } catch (err) {
          textarea.value = 'Paste failed: ' + (err.message || 'Permission denied')
        }
      })
    </script>
  </body>
</html>
